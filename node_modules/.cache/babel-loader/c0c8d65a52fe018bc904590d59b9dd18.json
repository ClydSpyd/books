{"ast":null,"code":"import _objectSpread from \"/Users/dave/Documents/codeProjects/bookList/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/dave/Documents/codeProjects/bookList/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/dave/Documents/codeProjects/bookList/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/dave/Documents/codeProjects/bookList/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/dave/Documents/codeProjects/bookList/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/dave/Documents/codeProjects/bookList/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/dave/Documents/codeProjects/bookList/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/dave/Documents/codeProjects/bookList/src/components/App.js\";\nimport React from 'react';\nimport TopBar from './TopBar';\nimport Grid from './Grid';\nimport bookSamples from './bookSamples';\nimport AddBookForm from './AddBookForm';\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      books: {},\n      filterText: ''\n    };\n\n    _this.addBook = function (book) {\n      console.log(\"name: \".concat(book.name));\n      console.log(\"author: \".concat(book.author));\n      console.log(\"urk: \".concat(book.urlToImg));\n\n      var books = _objectSpread({}, _this.state.books);\n\n      books[\"book\".concat(Date.now())] = book;\n      localStorage.setItem('books', JSON.stringify(books));\n\n      _this.setState({\n        books: books\n      });\n    };\n\n    _this.handleFilter = _this.handleFilter.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleDestroy = _this.handleDestroy.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"handleDestroy\",\n    value: function handleDestroy(bookId) {\n      this.setState(function (prevState) {\n        var books = prevState.books;\n        delete books[bookId];\n        return {\n          books: books\n        };\n      });\n    }\n  }, {\n    key: \"handleFilter\",\n    value: function handleFilter(input) {\n      this.setState(input);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var initialState = JSON.parse(localStorage.getItem('books')) ? JSON.parse(localStorage.getItem('books')) : bookSamples; // const initialState = JSON.parse(localStorage.getItem('books'))\n\n      this.setState({\n        books: initialState\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(TopBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        handleDestroy: this.handleDestroy,\n        loadSamples: this.loadSamples,\n        books: this.state.books,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }), React.createElement(AddBookForm, {\n        addBook: this.addBook,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/dave/Documents/codeProjects/bookList/src/components/App.js"],"names":["React","TopBar","Grid","bookSamples","AddBookForm","App","props","state","books","filterText","addBook","book","console","log","name","author","urlToImg","Date","now","localStorage","setItem","JSON","stringify","setState","handleFilter","bind","handleDestroy","bookId","prevState","input","initialState","parse","getItem","loadSamples","Component"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,WAAP,MAAwB,eAAxB;;IAGMC,G;;;;;AACJ,eAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,6EAAMA,KAAN;AADgB,UAKlBC,KALkB,GAKV;AACNC,MAAAA,KAAK,EAAE,EADD;AAENC,MAAAA,UAAU,EAAE;AAFN,KALU;;AAAA,UAUlBC,OAVkB,GAUR,UAACC,IAAD,EAAU;AAClBC,MAAAA,OAAO,CAACC,GAAR,iBAAqBF,IAAI,CAACG,IAA1B;AACAF,MAAAA,OAAO,CAACC,GAAR,mBAAuBF,IAAI,CAACI,MAA5B;AACAH,MAAAA,OAAO,CAACC,GAAR,gBAAoBF,IAAI,CAACK,QAAzB;;AAEA,UAAMR,KAAK,qBAAO,MAAKD,KAAL,CAAWC,KAAlB,CAAX;;AAEAA,MAAAA,KAAK,eAAQS,IAAI,CAACC,GAAL,EAAR,EAAL,GAA6BP,IAA7B;AACAQ,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BC,IAAI,CAACC,SAAL,CAAed,KAAf,CAA7B;;AACA,YAAKe,QAAL,CAAc;AACZf,QAAAA,KAAK,EAALA;AADY,OAAd;AAGD,KAtBiB;;AAEhB,UAAKgB,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,uDAApB;AACA,UAAKC,aAAL,GAAqB,MAAKA,aAAL,CAAmBD,IAAnB,uDAArB;AAHgB;AAIjB;;;;kCAoBaE,M,EAAQ;AACpB,WAAKJ,QAAL,CAAc,UAACK,SAAD,EAAe;AAC3B,YAAIpB,KAAK,GAAGoB,SAAS,CAACpB,KAAtB;AACA,eAAOA,KAAK,CAACmB,MAAD,CAAZ;AACA,eAAO;AAAEnB,UAAAA,KAAK,EAALA;AAAF,SAAP;AACD,OAJD;AAKD;;;iCAEYqB,K,EAAM;AACjB,WAAKN,QAAL,CAAcM,KAAd;AACD;;;wCAEkB;AAEjB,UAAMC,YAAY,GAAGT,IAAI,CAACU,KAAL,CAAWZ,YAAY,CAACa,OAAb,CAAqB,OAArB,CAAX,IAA4CX,IAAI,CAACU,KAAL,CAAWZ,YAAY,CAACa,OAAb,CAAqB,OAArB,CAAX,CAA5C,GAAwF7B,WAA7G,CAFiB,CAIjB;;AACA,WAAKoB,QAAL,CAAc;AAACf,QAAAA,KAAK,EAAEsB;AAAR,OAAd;AACD;;;6BAEO;AACN,aACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,EAEA,oBAAC,IAAD;AAAM,QAAA,aAAa,EAAE,KAAKJ,aAA1B;AAAyC,QAAA,WAAW,EAAE,KAAKO,WAA3D;AAAwE,QAAA,KAAK,EAAE,KAAK1B,KAAL,CAAWC,KAA1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFA,EAGA,oBAAC,WAAD;AAAa,QAAA,OAAO,EAAE,KAAKE,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHA,CADF;AAOD;;;;EArDeV,KAAK,CAACkC,S;;AAwDxB,eAAe7B,GAAf","sourcesContent":["import React from 'react';\nimport TopBar from './TopBar';\nimport Grid from './Grid';\nimport bookSamples from './bookSamples'\nimport AddBookForm from './AddBookForm'\n\n\nclass App extends React.Component{\n  constructor(props){\n    super(props);\n    this.handleFilter = this.handleFilter.bind(this);\n    this.handleDestroy = this.handleDestroy.bind(this)\n  }\n  state = {\n    books: {},\n    filterText: '',\n  }\n\n  addBook = (book) => {\n    console.log(`name: ${book.name}`);\n    console.log(`author: ${book.author}`);\n    console.log(`urk: ${book.urlToImg}`);\n\n    const books = {...this.state.books};\n    \n    books[`book${Date.now()}`] = book;\n    localStorage.setItem('books',JSON.stringify(books))\n    this.setState({\n      books\n    })\n  }\n\n  handleDestroy(bookId) {\n    this.setState((prevState) => {\n      let books = prevState.books;\n      delete books[bookId];\n      return { books };\n    });\n  }\n\n  handleFilter(input){\n    this.setState(input)\n  }\n\n  componentDidMount(){\n    \n    const initialState = JSON.parse(localStorage.getItem('books')) ? JSON.parse(localStorage.getItem('books')) : bookSamples;\n    \n    // const initialState = JSON.parse(localStorage.getItem('books'))\n    this.setState({books: initialState})\n  }\n\n  render(){\n    return (\n      <React.Fragment>\n      <TopBar />\n      <Grid handleDestroy={this.handleDestroy} loadSamples={this.loadSamples} books={this.state.books}/>\n      <AddBookForm addBook={this.addBook}/>\n      </React.Fragment>\n    )\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}