{"ast":null,"code":"import _objectSpread from \"/Users/dave/Documents/codeProjects/books/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/dave/Documents/codeProjects/books/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/dave/Documents/codeProjects/books/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/dave/Documents/codeProjects/books/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/dave/Documents/codeProjects/books/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/dave/Documents/codeProjects/books/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/dave/Documents/codeProjects/books/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/dave/Documents/codeProjects/books/src/components/App.js\";\nimport React from 'react';\nimport TopBar from './TopBar';\nimport Grid from './Grid';\nimport bookSamples from './bookSamples';\nimport AddBookForm from './AddBookForm';\nimport samples2 from './samples2';\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      books: {},\n      filterText: ''\n    };\n\n    _this.addBook = function (book) {\n      console.log(\"name: \".concat(book.name));\n      console.log(\"author: \".concat(book.author));\n      console.log(\"urk: \".concat(book.urlToImg));\n\n      var books = _objectSpread({}, _this.state.books);\n\n      books[book.index] = book;\n      localStorage.setItem('books', JSON.stringify(books));\n\n      _this.setState({\n        books: books\n      });\n    };\n\n    _this.handleFilter = _this.handleFilter.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleDestroy = _this.handleDestroy.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleReadChange = _this.handleReadChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleUpdate = _this.handleUpdate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"handleDestroy\",\n    value: function handleDestroy(bookId) {\n      var books = _objectSpread({}, this.state.books);\n\n      delete books[bookId];\n      localStorage.setItem('books', JSON.stringify(books));\n      this.setState({\n        books: books\n      });\n      console.log('destroy');\n    }\n  }, {\n    key: \"handleReadChange\",\n    value: function handleReadChange(index) {\n      var book = this.state.books[index]; // book.setState({read: true})\n\n      book.read ? book.read = false : book.read = true;\n\n      var books = _objectSpread({}, this.state.books);\n\n      localStorage.setItem('books', JSON.stringify(books));\n      console.log(book);\n    }\n  }, {\n    key: \"handleUpdate\",\n    value: function handleUpdate() {\n      var books = _objectSpread({}, this.state.books);\n\n      this.setState({\n        books: books\n      });\n      localStorage.setItem('books', JSON.stringify(books));\n    }\n  }, {\n    key: \"handleFilter\",\n    value: function handleFilter(input) {\n      this.setState(input);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var initialState = JSON.parse(localStorage.getItem('books')) ? JSON.parse(localStorage.getItem('books')) : bookSamples; // const initialState = JSON.parse(localStorage.getItem('books'))\n\n      this.setState({\n        books: initialState\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(TopBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"lowerWrappr\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        handleReadChange: this.handleReadChange,\n        handleDestroy: this.handleDestroy,\n        loadSamples: this.loadSamples,\n        books: this.state.books,\n        handleUpdate: this.handleUpdate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(AddBookForm, {\n        addBook: this.addBook,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/dave/Documents/codeProjects/books/src/components/App.js"],"names":["React","TopBar","Grid","bookSamples","AddBookForm","samples2","App","props","state","books","filterText","addBook","book","console","log","name","author","urlToImg","index","localStorage","setItem","JSON","stringify","setState","handleFilter","bind","handleDestroy","handleReadChange","handleUpdate","bookId","read","input","initialState","parse","getItem","loadSamples","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport TopBar from './TopBar';\nimport Grid from './Grid';\nimport bookSamples from './bookSamples'\nimport AddBookForm from './AddBookForm'\nimport  samples2 from './samples2'\n\n\nclass App extends React.Component{\n  constructor(props){\n    super(props);\n    this.handleFilter = this.handleFilter.bind(this);\n    this.handleDestroy = this.handleDestroy.bind(this)\n    this.handleReadChange = this.handleReadChange.bind(this)\n    this.handleUpdate = this.handleUpdate.bind(this)\n  }\n  state = {\n    books: {},\n    filterText: '',\n  }\n\n  addBook = (book) => {\n    console.log(`name: ${book.name}`);\n    console.log(`author: ${book.author}`);\n    console.log(`urk: ${book.urlToImg}`);\n\n    const books = {...this.state.books};\n    \n    books[book.index] = book;\n    localStorage.setItem('books',JSON.stringify(books))\n    this.setState({\n      books\n    })\n  }\n\n  handleDestroy(bookId) {\n    const books = {...this.state.books};\n    delete books[bookId]\n    localStorage.setItem('books',JSON.stringify(books))\n    this.setState({books})\n    \n    console.log('destroy')\n  }\n\n  handleReadChange(index){\n    const book = this.state.books[index];\n    // book.setState({read: true})\n    book.read ? book.read = false : book.read = true;\n    const books = {...this.state.books};\n    localStorage.setItem('books',JSON.stringify(books))\n    console.log(book)\n  }\n  handleUpdate () {\n    const books = {...this.state.books};\n    this.setState({books})\n    localStorage.setItem('books',JSON.stringify(books))\n  }\n\n  handleFilter(input){\n    this.setState(input)\n  }\n\n  componentDidMount(){\n    \n    const initialState = JSON.parse(localStorage.getItem('books')) ? JSON.parse(localStorage.getItem('books')) : bookSamples;\n    \n    // const initialState = JSON.parse(localStorage.getItem('books'))\n    this.setState({books: initialState})\n  }\n\n  render(){\n    return (\n      <React.Fragment>\n      <TopBar />\n      <div className=\"lowerWrappr\">\n        <Grid handleReadChange={this.handleReadChange} handleDestroy={this.handleDestroy} loadSamples={this.loadSamples} books={this.state.books} handleUpdate={this.handleUpdate}/>\n        <AddBookForm addBook={this.addBook}/>\n      </div>\n      </React.Fragment>\n    )\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}