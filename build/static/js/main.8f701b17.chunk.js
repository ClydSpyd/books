(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){e.exports=a(26)},21:function(e,t,a){},22:function(e,t,a){e.exports=a.p+"static/media/samples2.1990e574.bin"},26:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),s=(a(21),a(29)),l=a(31),i=a(30),c=a(10),m=a(4),u=a(5),d=a(7),h=a(6),p=a(8),f=a(2),b=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"topWrapper"},r.a.createElement("div",{className:"title"},r.a.createElement("i",{class:"fas fa-book"}),r.a.createElement("span",null,"iShelf")),r.a.createElement("div",{className:"mainBar"}))}}]),t}(r.a.Component),g=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).mouseEnter=function(){a.setState({isMouseInside:!0})},a.mouseLeave=function(){a.setState({isMouseInside:!1}),a.setState({deleting:!1})},a.handleClick=function(e){var t=e.target.parentElement.parentElement.firstChild;t.className="bookDetailsText red",!0===a.state.deleting?a.setState({deleting:!1}):a.setState({deleting:!0}),!0===a.state.deleting?t.className="bookDetailsText cyan":t.className="bookDetailsText red"},a.removeBook=function(){var e=a.props.index;a.props.handleDestroy(e)},a.readChange=function(){!1===a.state.isRead?a.setState({isRead:!0}):a.setState({isRead:!1});var e=a.props.index;a.props.handleReadChange(e)},a.state={isMouseInside:!1,isRead:a.props.details.read,deleting:!1},a.handleEdit=a.handleEdit.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleEdit",value:function(){var e=this.props.index;this.props.showForm(e)}},{key:"render",value:function(){return r.a.createElement("div",{onMouseEnter:this.mouseEnter,onMouseLeave:this.mouseLeave,className:"bookWrapper"},r.a.createElement("img",{src:this.props.details.urlToImg,alt:this.props.details.name}),r.a.createElement("div",{className:"bookDetailsTextWrapper"},this.state.isMouseInside?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bookDetailsText cyan"},!0===this.state.deleting?r.a.createElement("div",{onClick:this.removeBook,className:"deleteDiv"},r.a.createElement("i",{className:"fas fa-times-circle bookDelete"}),r.a.createElement("p",{className:"bookDeleteText"},"DELETE?")):r.a.createElement("div",null,r.a.createElement("h5",null,this.props.details.name),r.a.createElement("h6",null,this.props.details.author))),r.a.createElement("div",{className:"bookDetailsButton"},r.a.createElement("span",{onClick:this.handleEdit},"edit"),!1===this.state.deleting?r.a.createElement("span",{onClick:this.handleClick}," remove "):r.a.createElement("span",{onClick:this.handleClick}," cancel "),!1===this.state.isRead?r.a.createElement("span",{onClick:this.readChange},"mark as read"):r.a.createElement("span",{onClick:this.readChange},"mark as unread")),r.a.createElement("div",{className:"spacer"})):null,this.state.isRead&&!1===this.state.deleting?r.a.createElement("i",{class:"fas fa-check-circle bookIsRead"}):null))}}]),t}(r.a.Component),k=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).nameRefB=r.a.createRef(),a.authorRefB=r.a.createRef(),a.linkToImgRefB=r.a.createRef(),a.handleClick=function(){var e=a.props.deetz;a.props.submitForm(e)},a.handleSubmit=function(e){e.preventDefault();var t=a.props.deetz;a.linkToImgRefB.current.value&&(t.urlToImg=a.linkToImgRefB.current.value),a.nameRefB.current.value&&(t.name=a.nameRefB.current.value),a.authorRefB.current.value&&(t.author=a.authorRefB.current.value),console.log(t),a.props.submitForm(t),a.linkToImgRefB.current.value=""},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"bookDeetzWrapper"},r.a.createElement("form",{className:"editForm",onSubmit:this.createBook},r.a.createElement("input",{defaultValue:this.props.deetz.name,ref:this.nameRefB,type:"text"}),r.a.createElement("input",{defaultValue:this.props.deetz.author,ref:this.authorRefB,type:"text"}),r.a.createElement("input",{defaultValue:"enter new image URL",ref:this.linkToImgRefB,type:"text"}),r.a.createElement("button",{onClick:this.handleSubmit},"update"),r.a.createElement("p",{className:"formCancel",onClick:this.props.cancelForm},"cancel")),r.a.createElement("p",{className:"error hidden"},"enter book name and author"))}}]),t}(r.a.Component),v=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).showForm=function(e){var t=a.props.books[e];a.setState({formBookIndex:e}),a.setState({formCurrent:t}),document.getElementById("bookDeetz").className="visible"},a.submitForm=function(e){console.log(e),console.log(a.props.books[a.state.formBookIndex]),document.getElementById("bookDeetz").className="hidden",a.props.handleUpdate()},a.cancelForm=function(){document.getElementById("bookDeetz").className="hidden"},a.state={formCurrent:{},formBookIndex:1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"gridWrapper"},r.a.createElement("div",{className:"hidden",id:"bookDeetz"},r.a.createElement(k,{showForm:this.showForm,submitForm:this.submitForm,cancelForm:this.cancelForm,deetz:this.state.formCurrent})),Object.keys(this.props.books).map(function(t){return r.a.createElement(g,{key:t,index:t,details:e.props.books[t],handleDestroy:e.props.handleDestroy,handleReadChange:e.props.handleReadChange,showForm:e.showForm,formCurrent:e.state.formCurrent})}))}}]),t}(r.a.Component),E={1:{index:1,name:"The Scar",author:"China Mieville",urlToImg:"https://images-na.ssl-images-amazon.com/images/I/71wDeW%2Baj6L.jpg",read:!0},2:{index:2,name:"Perdido Street Station",author:"China Mieville",urlToImg:"https://images-na.ssl-images-amazon.com/images/I/51Bd3OYemYL._SX329_BO1,204,203,200_.jpg",read:!0},3:{index:3,name:"Iron Council",author:"China Mieville",urlToImg:"https://images-na.ssl-images-amazon.com/images/I/91E-EYWYO8L.jpg",read:!1},4:{index:4,name:"Oryx and Crake",author:"Margaret Attwood",urlToImg:"https://images-eu.ssl-images-amazon.com/images/I/516BuHX7w1L.jpg",read:!1},5:{index:5,name:"The Year of the Flood",author:"Margaret Attwood",urlToImg:"https://www.littlebrown.co.uk/wp-content/uploads/2019/01/hbg-title-9780748113378-6.jpg?fit=1489%2C2339",read:!1},6:{index:6,name:"Foundation",author:"Isaac Asimov",urlToImg:"https://img.sfbook.com/books/large/foundation.jpg",read:!1},7:{index:7,name:"Foundation and Empire",author:"Isaac Asimov",urlToImg:"https://i.harperapps.com/hcanz/covers/9780008117504/x293.jpg",read:!1}},R=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).nameRef=r.a.createRef(),a.authorRef=r.a.createRef(),a.linkToImgRef=r.a.createRef(),a.throwError=function(){a.nameRef.current.value||(a.nameRef.current.style.border="1px solid red"),a.authorRef.current.value||(a.authorRef.current.style.border="1px solid red")},a.createBook=function(e){if(e.preventDefault(),a.nameRef.current.value&&a.authorRef.current.value){var t=a.linkToImgRef.current.value?a.linkToImgRef.current.value:"http://www.mk.undp.org/etc/designs/UNDPGlobalDesign/clientlibs/digitallibrary/css/book-cover-placeholder.png",n={name:a.nameRef.current.value,author:a.authorRef.current.value,urlToImg:t,read:!1,index:"book".concat(Date.now())};a.props.addBook(n),a.nameRef.current.value="",a.authorRef.current.value="",a.linkToImgRef.current.value="",a.nameRef.current.style.border="1px solid grey",a.authorRef.current.style.border="1px solid grey",a.linkToImgRef.current.style.border="1px solid grey"}else a.nameRef.current.value||(a.nameRef.current.style.border="1px solid red"),a.authorRef.current.value||(a.authorRef.current.style.border="1px solid red"),a.linkToImgRef.current.value||(a.linkToImgRef.current.style.border="1px solid red")},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"addBookFormWrapper"},r.a.createElement("form",{onSubmit:this.createBook},r.a.createElement("input",{placeholder:"title",ref:this.nameRef,type:"text"}),r.a.createElement("input",{placeholder:"author",ref:this.authorRef,type:"text"}),r.a.createElement("input",{placeholder:"image URL",ref:this.linkToImgRef,type:"text"}),r.a.createElement("button",{type:"submit"},"+ add book")),r.a.createElement("p",{className:"error hidden"},"enter book name and author"))}}]),t}(r.a.Component),y=(a(22),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={books:{},filterText:""},a.addBook=function(e){console.log("name: ".concat(e.name)),console.log("author: ".concat(e.author)),console.log("urk: ".concat(e.urlToImg));var t=Object(c.a)({},a.state.books);t[e.index]=e,localStorage.setItem("books",JSON.stringify(t)),a.setState({books:t})},a.handleFilter=a.handleFilter.bind(Object(f.a)(Object(f.a)(a))),a.handleDestroy=a.handleDestroy.bind(Object(f.a)(Object(f.a)(a))),a.handleReadChange=a.handleReadChange.bind(Object(f.a)(Object(f.a)(a))),a.handleUpdate=a.handleUpdate.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleDestroy",value:function(e){var t=Object(c.a)({},this.state.books);delete t[e],localStorage.setItem("books",JSON.stringify(t)),this.setState({books:t}),console.log("destroy")}},{key:"handleReadChange",value:function(e){var t=this.state.books[e];t.read?t.read=!1:t.read=!0;var a=Object(c.a)({},this.state.books);localStorage.setItem("books",JSON.stringify(a)),console.log(t)}},{key:"handleUpdate",value:function(){var e=Object(c.a)({},this.state.books);this.setState({books:e}),localStorage.setItem("books",JSON.stringify(e))}},{key:"handleFilter",value:function(e){this.setState(e)}},{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("books"))?JSON.parse(localStorage.getItem("books")):E;this.setState({books:e})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,null),r.a.createElement("div",{className:"lowerWrappr"},r.a.createElement(v,{handleReadChange:this.handleReadChange,handleDestroy:this.handleDestroy,loadSamples:this.loadSamples,books:this.state.books,handleUpdate:this.handleUpdate}),r.a.createElement(R,{addBook:this.addBook})))}}]),t}(r.a.Component)),O=function(){return r.a.createElement(s.a,null,r.a.createElement(l.a,null,r.a.createElement(i.a,{exact:!0,path:"/",component:y})))};Object(o.render)(r.a.createElement(O,null),document.getElementById("main"))}},[[15,1,2]]]);
//# sourceMappingURL=main.8f701b17.chunk.js.map